var divMidHead=document.getElementById("div-mid-head"),workList=document.getElementById("works-list"),worksListAjax=document.getElementById("works-list-ajax"),worksSection=document.getElementById("works-section"),bottomMenu=document.getElementById("menu"),menuXhttp=document.getElementById("menu-ul"),back=document.getElementById("back"),me=document.getElementById("meXhttp"),es=document.getElementById("es"),contatti=document.getElementById("contatti"),chiama=document.getElementById("chiama"),scrivi=document.getElementById("scrivi");jQuery.event.special.touchstart={setup:function(e,t,s){t.includes("noPreventDefault")?this.addEventListener("touchstart",s,{passive:!1}):this.addEventListener("touchstart",s,{passive:!0})}},jQuery.event.special.onmousewheel={setup:function(e,t,s){t.includes("noPreventDefault")?this.addEventListener("onmousewheel",s,{passive:!1}):this.addEventListener("onmousewheel",s,{passive:!0})}},$(document).ready(function(){"ontouchstart"in document.documentElement&&$(".no-touch").removeClass("no-touch").addClass("touch"),$(".touch").on("touchstart touchend",function(e){$(this).toggleClass("over")})}),$body=$("body"),$error=$("#error"),$(document).on({ajaxStart:function(){$body.addClass("loading")},ajaxError:function(){$error.removeClass("hide")},ajaxStop:function(){$body.removeClass("loading")}});var meEvento=function(){$.get("https://www.andreazangheri.it/js/data.json"),$("#mid-head").empty(),$("#works").empty(),$("#works-ajax").empty(),$("#menu-ul").empty();var t=new XMLHttpRequest;(t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("GET","https://www.andreazangheri.it/js/data.json"),t.onerror=function(){console.log("Connection error")},t.onloadend=function(){es.classList.remove("hide"),chiama.classList.remove("hide"),contatti.classList.remove("hide"),scrivi.classList.remove("hide");var e=JSON.parse(t.responseText);rendermeHTML(e),rendermenuHTML(e),renderRandomHTML(e),back.classList.remove("show"),divMidHead.classList.remove("hide"),bottomMenu.classList.remove("hide"),workList.classList.remove("hide"),worksListAjax.classList.remove("show"),worksListAjax.classList.remove("fixed"),worksListAjax.classList.remove("relative"),worksSection.classList.remove("show"),menuXhttp.classList.remove("hide"),back.classList.add("hide"),divMidHead.classList.add("show"),bottomMenu.classList.add("show"),workList.classList.add("show"),worksListAjax.classList.add("hide"),worksSection.classList.add("hide"),menuXhttp.classList.add("show"),window.scrollTo(0,0)},t.send(),Handlebars.registerHelper("encode",function(e){return new Handlebars.SafeString(e)}),Handlebars.registerHelper("random",function(e,t){var s=Math.floor(Math.random()*e.length);return t.fn(e[s])})},progettiEvento=function(){var e;es.classList.add("hide"),chiama.classList.add("hide"),scrivi.classList.add("hide"),contatti.classList.add("hide"),$.get("https://www.andreazangheri.it/js/data.json"),$("#mid-head").empty(),$("#works").empty(),$("#works-ajax").empty(),$("#menu-ul").empty(),$("#meXhttp").prop("onclick",null),$("#meXhttp").removeAttr("onclick"),$("#meXhttp").prop("onclick"," meEvento()"),$("#meXhttp").attr("onclick"," meEvento()"),$("#back").prop("onclick",null),$("#back").removeAttr("onclick"),$("#back").prop("onclick"," meEvento()"),$("#back").attr("onclick"," meEvento()"),(e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("GET","https://www.andreazangheri.it/js/data.json"),e.onerror=function(){console.log("Connection error")},e.send(),e.onloadend=function(){renderHTML(JSON.parse(e.responseText)),back.classList.remove("hide"),divMidHead.classList.remove("show"),bottomMenu.classList.remove("show"),workList.classList.remove("show"),worksListAjax.classList.remove("hide"),worksListAjax.classList.remove("fixed"),worksSection.classList.remove("show"),back.classList.add("show"),divMidHead.classList.add("hide"),bottomMenu.classList.add("hide"),workList.classList.add("hide"),worksListAjax.classList.add("show"),worksListAjax.classList.add("relative"),worksSection.classList.add("hide"),window.scrollTo(0,0)}},lavoriEvento=function(){var t;back.classList.remove("show"),back.classList.add("hide"),$.get("https://www.andreazangheri.it/js/data.json"),$("#works-ajax").empty(),$("#meXhttp").prop("onclick",null),$("#meXhttp").removeAttr("onclick"),$("#meXhttp").prop("onclick","progettiEvento()"),$("#meXhttp").attr("onclick","progettiEvento()"),$("#back").prop("onclick",null),$("#back").removeAttr("onclick"),$("#back").prop("onclick","progettiEvento()"),$("#back").attr("onclick","progettiEvento()");var s=event.target.id;worksSection.classList.add("hide"),back.classList.remove("hide"),(t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("GET","https://www.andreazangheri.it/js/data.json"),t.onerror=function(){console.log("Connection error")},t.onloadend=function(){var s;renderNextHTML(JSON.parse(t.responseText));var e=document.querySelector("#image-container"),o=e.querySelectorAll(".container");for(s=0;s<o.length;s++)o[s].classList.add("is-loading");for(s=0;s<o.length;s++){o[s].querySelectorAll("img")[0].classList.add("hide")}new imagesLoaded(e,function(e){for(s=0;s<o.length;s++){o[s].classList.remove("is-loading");var t=o[s].querySelectorAll("img");t[0].classList.remove("hide"),t[0].classList.add("show")}}),worksSection.classList.remove("hide"),worksListAjax.classList.remove("show"),divMidHead.classList.remove("show"),workList.classList.remove("show"),menuXhttp.classList.remove("show"),worksSection.classList.add("show"),worksListAjax.classList.add("hide"),divMidHead.classList.add("hide"),workList.classList.add("hide"),menuXhttp.classList.add("hide"),window.scrollTo(0,0)},t.send(),Handlebars.registerHelper("custom",function(e,t){return t.fn(e[s])})};function renderHTML(e){var t=document.getElementById("progetti-template").innerHTML,s=Handlebars.compile(t)(e);document.getElementById("works-ajax").innerHTML=s}function rendermeHTML(e){var t=document.getElementById("me-template").innerHTML,s=Handlebars.compile(t)(e);document.getElementById("mid-head").innerHTML=s}function renderRandomHTML(e){var t=document.getElementById("random-template").innerHTML,s=Handlebars.compile(t)(e);document.getElementById("works").innerHTML=s}function rendermenuHTML(e){var t=document.getElementById("menu-template").innerHTML,s=Handlebars.compile(t)(e);document.getElementById("menu-ul").innerHTML=s}function renderNextHTML(e){var t=document.getElementById("works-template").innerHTML,s=Handlebars.compile(t)(e);document.getElementById("works-section").innerHTML=s}